// MutationObserver-Shim v0.2.7 (github.com/megawac/MutationObserver.js)
// Authors: Graeme Yeates (github.com/megawac)
this.MutationObserver=this.MutationObserver||this.WebKitMutationObserver||function(v){function m(b){var a=this;a.g=[];a.k=function(){var c=a.takeRecords();c.length&&b.call(a,c,a);a.f=setTimeout(a.k,m._period)}}function r(b){var a={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null},c;for(c in b)a[c]!==v&&b[c]!==v&&(a[c]=b[c]);return a}function F(b,a){var c=A(b,a);return function(d){var g=d.length;a.a&&
c.a&&z(d,b,c.a,a.d);(a.c||a.e)&&G(d,b,c,a);d.length!==g&&(c=A(b,a))}}function z(b,a,c,d){for(var g={},u=a.attributes,w,h,n=u.length;n--;)w=u[n],h=w.name,d&&d[h]===v||(w.value!==c[h]&&b.push(r({type:"attributes",target:a,attributeName:h,oldValue:c[h],attributeNamespace:w.namespaceURI})),g[h]=!0);for(h in c)g[h]||b.push(r({target:a,type:"attributes",attributeName:h,oldValue:c[h]}))}function G(b,a,c,d){function g(a,c,g,p,x){var m=a.length-1;x=-~((m-x)/2);for(var f,k,e;e=a.pop();)f=g[e.h],k=p[e.i],d.c&&
x&&Math.abs(e.h-e.i)>=m&&(b.push(r({type:"childList",target:c,addedNodes:[f],removedNodes:[f],nextSibling:f.nextSibling,previousSibling:f.previousSibling})),x--),d.a&&k.a&&z(b,f,k.a,d.d),d.b&&3===f.nodeType&&f.nodeValue!==k.b&&b.push(r({type:"characterData",target:f,oldValue:k.b})),d.e&&u(f,k)}function u(a,c){for(var n=a.childNodes,p=c.c,m=n.length,v=p.length,f,k,e,l,s,y=0,t=0,q=0;t<m||q<v;)l=n[t],s=(e=p[q])&&e.j,l===s?(d.a&&e.a&&z(b,l,e.a,d.d),d.b&&3===l.nodeType&&l.nodeValue!==e.b&&b.push(r({type:"characterData",
target:l,oldValue:e.b})),k&&g(k,a,n,p,y),d.e&&(l.childNodes.length||e.c.length)&&u(l,e),t++,q++):(f||(f={},k=[]),l&&(f[e=B(l)]||(f[e]=!0,-1===(e=C(p,l,q,"j"))?d.c&&(b.push(r({type:"childList",target:a,addedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),y++):k.push({h:t,i:e})),t++),s&&s!==n[t]&&(f[e=B(s)]||(f[e]=!0,-1===(e=C(n,s,t))?d.c&&(b.push(r({type:"childList",target:c.j,removedNodes:[s],nextSibling:p[q+1],previousSibling:p[q-1]})),y--):k.push({h:e,i:q})),q++));k&&g(k,
a,n,p,y)}u(a,c)}function A(b,a){var c=!0;return function g(b){var m=3===b.nodeType,h={j:b,c:""};m||8===b.nodeType?m&&a.b&&(h.b=b.nodeValue):(a.a&&c&&(h.a=D(b.attributes,function(b,c){if(!a.d||a.d[c.name])b[c.name]=c.value;return b})),c&&(a.c||a.b||a.a&&a.e)&&(h.c=H(b.childNodes,g)),c=a.e);return h}(b)}function B(b){try{return b.id||(b.mo_id=b.mo_id||E++)}catch(a){try{return b.nodeValue}catch(c){return E++}}}function H(b,a){for(var c=[],d=0;d<b.length;d++)c[d]=a(b[d],d,b);return c}function D(b,a){for(var c=
{},d=0;d<b.length;d++)c=a(c,b[d],d,b);return c}function C(b,a,c,d){for(;c<b.length;c++)if((d?b[c][d]:b[c])===a)return c;return-1}m._period=30;m.prototype={observe:function(b,a){for(var c={a:!!(a.attributes||a.attributeFilter||a.attributeOldValue),c:!!a.childList,e:!!a.subtree,b:!(!a.characterData&&!a.characterDataOldValue)},d=this.g,g=0;g<d.length;g++)d[g].m===b&&d.splice(g,1);a.attributeFilter&&(c.d=D(a.attributeFilter,function(a,b){a[b]=!0;return a}));d.push({m:b,l:F(b,c)});this.f||this.k()},takeRecords:function(){for(var b=
[],a=this.g,c=0;c<a.length;c++)a[c].l(b);return b},disconnect:function(){this.g=[];clearTimeout(this.f);this.f=null}};var E=1;return m}();
